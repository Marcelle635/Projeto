

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ra√≠zes do caf√©</title>
    <link rel="stylesheet" href="../css/cadastro.css">
</head>
<body>
    <!--Menu com funcionalidades-->
    <header class="header">
  <section>
    <!-- Lado esquerdo: Logo + Navega√ß√£o -->
    <div class="left-side">
      <a href="#" class="logo">
        <img src="../img/logo.png" alt="logo">
      </a>

      <nav class="navbar">
        <a href="../pages/comum.html">Home</a>
        <a href="../pages/menucomum.html">Menu</a>
      </nav>
    </div>

    <!-- Lado direito: Bot√µes e links -->
    <div class="areas">
      <a href="login.php">Login</a> |
      <button id="aumentar-fonte">A+</button>
      <button id="diminuir-fonte">A-</button>

<script>
  // üî† Aumentar e diminuir fonte (todo o site)
    document.addEventListener("DOMContentLoaded", function() {
      let tamanhoFonte = localStorage.getItem("tamanhoFonte")
        ? parseInt(localStorage.getItem("tamanhoFonte"))
        : 70;
  
      const html = document.documentElement;
      html.style.fontSize = tamanhoFonte + "%";
  
      document.getElementById("aumentar-fonte").addEventListener("click", function() {
        if (tamanhoFonte < 70) {
          tamanhoFonte += 10;
          html.style.fontSize = tamanhoFonte + "%";
          localStorage.setItem("tamanhoFonte", tamanhoFonte);
        }
      });
  
      document.getElementById("diminuir-fonte").addEventListener("click", function() {
        if (tamanhoFonte > 40) {
          tamanhoFonte -= 10;
          html.style.fontSize = tamanhoFonte + "%";
          localStorage.setItem("tamanhoFonte", tamanhoFonte);
        }
      });
    });
</script>


</div>


</button>
    </div>
  </section>
 </header>

  <main>
  <div>
    <br><h1>CADASTRE-SE</h1>
    
  </div>

  <section>
    <form id="form">
      <!-- COLUNA ESQUERDA -->
      <div>
        <label for="nome"></label>
        <input type="text" id="nome" name="nome" placeholder="NOME COMPLETO:" required oninput="nomeValidate"()>
        <span id="span-nome-required" class="span-required">m√≠nimo 15 caracteres e no m√°ximo 80</span>
      </div>

      <!-- COLUNA DIREITA -->
      <div>
        <label for="data_nascimento"></label>
        <input type="date" id="data_nascimento" name="data_nascimento" required>
      </div>

      <div>
        <label for="cpf"></label>
        <input type="text" id="cpf" name="cpf" placeholder="CPF:" required onblur="verificarCpf()" maxlength="14"> 
        <span id="span-required" class="span-required" (somente n√∫meros ou formato 999.999.999-99)><pan>
      </div>
      
      <div>
        <label for="nome_materno"></label>
        <input type="text" id="nome_materno" name="nome_materno" placeholder="NOME MATERNO:" required>
      </div>

      <div>
        <label for="telefone"></label>
        <input type="text" id="telefone" name="telefone" placeholder="TELEFONE CELULAR: (XX) XXXXX-XXXX" required onblur="telefoneValidate()" maxlength="15">
        <span id="span-telefone-required" class="span-required">N√∫mero de telefone inv√°lido.</span>
      </div>

      <div>
        <label for="login"></label>
        <input type="text" id="login" name="login" placeholder="LOGIN:" required>
        <span id="span-required" class="span-required">deve ter 6 caracteres alfab√©ticos</span>
      </div>
   
    <datalist id="lista_sexo">
        <option value="Feminino">
        <option value="Masculino">
        <option value="Prefiro n√£o dizer">
    </datalist>
     </div>

      <div>
        <label for="senha"></label>
        <input type="password" id="senha" name="senha" placeholder="SENHA:" required>
        <span class="span-required">deve ter 8 caracteres alfab√©ticos</span>
      </div>

      <div>
        <label for="email"></label>
        <input type="email" id="email" name="email" placeholder="E-MAIL:" required>
      </div>

      <div>
        <label for="confirme"></label>
        <input type="password" id="confirme" name="confirme_senha" placeholder="CONFIRME A SENHA:" required>
        <spa class="span-required">senhas devem ser iguais</spa>
      </div>

      <div class="full-width">
        <label for="cep">CEP:</label>
        <input type="text" id="cep" name="cep" placeholder="00000-000" maxlength="9" onblur="buscarCEP()" required>
        <span id="span-cep-required" class="span-required" style="display: none;">CEP inv√°lido ou n√£o encontrado.</span>
      </div>
    
      <div class="campo-oculto">
        <input type="number" id="numero" name="numero" readonly>
      </div>

      <div class="campo-oculto">
        <input type="text" id="logradouro" name="logradouro" readonly>
      </div>

      <div class="campo-oculto">
        <input type="text" id="bairro" name="bairro" readonly>
      </div>

      <div class="campo-oculto">
        <input type="text" id="cidade" name="cidade" readonly>
      </div>

      <div class="campo-oculto">
        <input type="text" id="uf" name="uf" readonly>
      </div>

      <div class="botao">
        <button type="submit">ENVIAR</button>
        <button type="reset">LIMPAR TELA</button>
      </div>

    </form>
  </section>
 </main>

<script>

 const form = document.getElementById('form');
 const campos = document.querySelectorAll('.required');
 const spans = document.querySelectorAll('.span-required');
 const emailRegex  = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  
  function setError(index){
   campo[index].style.border = '2px solid #e63636';
   spans[index].style.display ='block';
 }

  function removeError(index){
   campo[index].style.border = '';
   spans[index].style.display ='none';

  }

  function nomeValidate() {
   if (campos[0].value.length < 15 || campos[0].value.length > 80)
    {   
      setError(0)
    }
   else                                             
    {
      removeError(0)
    }
  }  

  function emailValidate() {
  if(!emailRegex.test(campos[5],value))

  {
    setError(5)
  }

  else                                             
  {
    removeError(5)
  }
 }

function buscarCEP() {
    const cepInput = document.getElementById('cep');
    // 1. Limpa o CEP para ter apenas 8 d√≠gitos
    const cep = cepInput.value.replace(/\D/g, ''); 

    // Valida√ß√£o b√°sica do CEP
    if (cep.length !== 8) {
        alert("CEP deve ter 8 d√≠gitos.");
        return;
    }
    
    // URL da API da ViaCEP
    const url = `https://viacep.com.br/ws/${cep}/json/`;

    // Faz a requisi√ß√£o (fetch)
      fetch(url)
        .then(response => response.json())
        .then(dados => {
            if (dados.erro) {
                alert("CEP n√£o encontrado. Preencha manualmente.");
                return;
            }

            // 4. Preenchimento dos campos do formul√°rio
            document.getElementById('logradouro').value = dados.logradouro;
            document.getElementById('bairro').value = dados.bairro;
            document.getElementById('cidade').value = dados.localidade;
            document.getElementById('uf').value = dados.uf;
        })
        .catch(error => {
            console.error('Erro de conex√£o:', error);
            alert("Erro na conex√£o na API. Preencha manualmente.");
        });
}

</script>
</body>












